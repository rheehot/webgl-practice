!function(){var e,t,n,r=!1;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){return r||(r=!0,function(){for(n in e={},(t={precision:1e-6}).Vector=function(){},t.Vector.create=function(e){return(new t.Vector).setElements(e)},t.Vector.create,t.Vector.Random=function(e){for(var n=[];e--;)n.push(Math.random());return t.Vector.create(n)},t.Vector.Zero=function(e){for(var n=[];e--;)n.push(0);return t.Vector.create(n)},t.Vector.prototype={e:function(e){return e<1||e>this.elements.length?null:this.elements[e-1]},dimensions:function(){return this.elements.length},modulus:function(){return Math.sqrt(this.dot(this))},eql:function(e){var n=this.elements.length,r=e.elements||e;if(n!==r.length)return!1;for(;n--;)if(Math.abs(this.elements[n]-r[n])>t.precision)return!1;return!0},dup:function(){return t.Vector.create(this.elements)},map:function(e,n){var r=[];return this.each((function(t,i){r.push(e.call(n,t,i))})),t.Vector.create(r)},forEach:function(e,t){for(var n=this.elements.length,r=0;r<n;r++)e.call(t,this.elements[r],r+1)},toUnitVector:function(){var e=this.modulus();return 0===e?this.dup():this.map((function(t){return t/e}))},angleFrom:function(e){var t=e.elements||e;if(this.elements.length!==t.length)return null;var n=0,r=0,i=0;if(this.each((function(e,s){n+=e*t[s-1],r+=e*e,i+=t[s-1]*t[s-1]})),r=Math.sqrt(r),i=Math.sqrt(i),r*i==0)return null;var s=n/(r*i);return s<-1&&(s=-1),s>1&&(s=1),Math.acos(s)},isParallelTo:function(e){var n=this.angleFrom(e);return null===n?null:n<=t.precision},isAntiparallelTo:function(e){var n=this.angleFrom(e);return null===n?null:Math.abs(n-Math.PI)<=t.precision},isPerpendicularTo:function(e){var n=this.dot(e);return null===n?null:Math.abs(n)<=t.precision},add:function(e){var t=e.elements||e;return this.elements.length!==t.length?null:this.map((function(e,n){return e+t[n-1]}))},subtract:function(e){var t=e.elements||e;return this.elements.length!==t.length?null:this.map((function(e,n){return e-t[n-1]}))},multiply:function(e){return this.map((function(t){return t*e}))},dot:function(e){var t=e.elements||e,n=0,r=this.elements.length;if(r!==t.length)return null;for(;r--;)n+=this.elements[r]*t[r];return n},cross:function(e){var n=e.elements||e;if(3!==this.elements.length||3!==n.length)return null;var r=this.elements;return t.Vector.create([r[1]*n[2]-r[2]*n[1],r[2]*n[0]-r[0]*n[2],r[0]*n[1]-r[1]*n[0]])},max:function(){for(var e=0,t=this.elements.length;t--;)Math.abs(this.elements[t])>Math.abs(e)&&(e=this.elements[t]);return e},indexOf:function(e){for(var t=null,n=this.elements.length,r=0;r<n;r++)null===t&&this.elements[r]===e&&(t=r+1);return t},toDiagonalMatrix:function(){return t.Matrix.Diagonal(this.elements)},round:function(){return this.map((function(e){return Math.round(e)}))},snapTo:function(e){return this.map((function(n){return Math.abs(n-e)<=t.precision?e:n}))},distanceFrom:function(e){if(e.anchor||e.start&&e.end)return e.distanceFrom(this);var t=e.elements||e;if(t.length!==this.elements.length)return null;var n,r=0;return this.each((function(e,i){n=e-t[i-1],r+=n*n})),Math.sqrt(r)},liesOn:function(e){return e.contains(this)},liesIn:function(e){return e.contains(this)},rotate:function(e,n){var r,i,s,a,l=null;switch(e.determinant&&(l=e.elements),this.elements.length){case 2:return 2!==(r=n.elements||n).length?null:(l||(l=t.Matrix.Rotation(e).elements),i=this.elements[0]-r[0],s=this.elements[1]-r[1],t.Vector.create([r[0]+l[0][0]*i+l[0][1]*s,r[1]+l[1][0]*i+l[1][1]*s]));case 3:if(!n.direction)return null;var o=n.pointClosestTo(this).elements;return l||(l=t.Matrix.Rotation(e,n.direction).elements),i=this.elements[0]-o[0],s=this.elements[1]-o[1],a=this.elements[2]-o[2],t.Vector.create([o[0]+l[0][0]*i+l[0][1]*s+l[0][2]*a,o[1]+l[1][0]*i+l[1][1]*s+l[1][2]*a,o[2]+l[2][0]*i+l[2][1]*s+l[2][2]*a]);default:return null}},reflectionIn:function(e){if(e.anchor){var n=this.elements.slice(),r=e.pointClosestTo(n).elements;return t.Vector.create([r[0]+(r[0]-n[0]),r[1]+(r[1]-n[1]),r[2]+(r[2]-(n[2]||0))])}var i=e.elements||e;return this.elements.length!==i.length?null:this.map((function(e,t){return i[t-1]+(i[t-1]-e)}))},to3D:function(){var e=this.dup();switch(e.elements.length){case 3:break;case 2:e.elements.push(0);break;default:return null}return e},inspect:function(){return"["+this.elements.join(", ")+"]"},setElements:function(e){return this.elements=(e.elements||e).slice(),this}},t.Vector.prototype.x=t.Vector.prototype.multiply,t.Vector.prototype.each=t.Vector.prototype.forEach,t.Vector.i=t.Vector.create([1,0,0]),t.Vector.j=t.Vector.create([0,1,0]),t.Vector.k=t.Vector.create([0,0,1]),t.Matrix=function(){},t.Matrix.create=function(e){return(new t.Matrix).setElements(e)},t.Matrix.create,t.Matrix.I=function(e){for(var n,r=[],i=e;i--;)for(n=e,r[i]=[];n--;)r[i][n]=i===n?1:0;return t.Matrix.create(r)},t.Matrix.Diagonal=function(e){for(var n=e.length,r=t.Matrix.I(n);n--;)r.elements[n][n]=e[n];return r},t.Matrix.Rotation=function(e,n){if(!n)return t.Matrix.create([[Math.cos(e),-Math.sin(e)],[Math.sin(e),Math.cos(e)]]);var r=n.dup();if(3!==r.elements.length)return null;var i=r.modulus(),s=r.elements[0]/i,a=r.elements[1]/i,l=r.elements[2]/i,o=Math.sin(e),h=Math.cos(e),c=1-h;return t.Matrix.create([[c*s*s+h,c*s*a-o*l,c*s*l+o*a],[c*s*a+o*l,c*a*a+h,c*a*l-o*s],[c*s*l-o*a,c*a*l+o*s,c*l*l+h]])},t.Matrix.RotationX=function(e){var n=Math.cos(e),r=Math.sin(e);return t.Matrix.create([[1,0,0],[0,n,-r],[0,r,n]])},t.Matrix.RotationY=function(e){var n=Math.cos(e),r=Math.sin(e);return t.Matrix.create([[n,0,r],[0,1,0],[-r,0,n]])},t.Matrix.RotationZ=function(e){var n=Math.cos(e),r=Math.sin(e);return t.Matrix.create([[n,-r,0],[r,n,0],[0,0,1]])},t.Matrix.Random=function(e,n){return t.Matrix.Zero(e,n).map((function(){return Math.random()}))},t.Matrix.Zero=function(e,n){for(var r,i=[],s=e;s--;)for(r=n,i[s]=[];r--;)i[s][r]=0;return t.Matrix.create(i)},t.Matrix.prototype={e:function(e,t){return e<1||e>this.elements.length||t<1||t>this.elements[0].length?null:this.elements[e-1][t-1]},row:function(e){return e>this.elements.length?null:t.Vector.create(this.elements[e-1])},col:function(e){if(0===this.elements.length)return null;if(e>this.elements[0].length)return null;for(var n=[],r=this.elements.length,i=0;i<r;i++)n.push(this.elements[i][e-1]);return t.Vector.create(n)},dimensions:function(){var e=0===this.elements.length?0:this.elements[0].length;return{rows:this.elements.length,cols:e}},rows:function(){return this.elements.length},cols:function(){return 0===this.elements.length?0:this.elements[0].length},eql:function(e){var n=e.elements||e;if(n[0]&&void 0!==n[0][0]||(n=t.Matrix.create(n).elements),0===this.elements.length||0===n.length)return this.elements.length===n.length;if(this.elements.length!==n.length)return!1;if(this.elements[0].length!==n[0].length)return!1;for(var r,i=this.elements.length,s=this.elements[0].length;i--;)for(r=s;r--;)if(Math.abs(this.elements[i][r]-n[i][r])>t.precision)return!1;return!0},dup:function(){return t.Matrix.create(this.elements)},map:function(e,n){if(0===this.elements.length)return t.Matrix.create([]);for(var r,i=[],s=this.elements.length,a=this.elements[0].length;s--;)for(r=a,i[s]=[];r--;)i[s][r]=e.call(n,this.elements[s][r],s+1,r+1);return t.Matrix.create(i)},isSameSizeAs:function(e){var n=e.elements||e;return void 0===n[0][0]&&(n=t.Matrix.create(n).elements),0===this.elements.length?0===n.length:this.elements.length===n.length&&this.elements[0].length===n[0].length},add:function(e){if(0===this.elements.length)return this.map((function(e){return e}));var n=e.elements||e;return void 0===n[0][0]&&(n=t.Matrix.create(n).elements),this.isSameSizeAs(n)?this.map((function(e,t,r){return e+n[t-1][r-1]})):null},subtract:function(e){if(0===this.elements.length)return this.map((function(e){return e}));var n=e.elements||e;return void 0===n[0][0]&&(n=t.Matrix.create(n).elements),this.isSameSizeAs(n)?this.map((function(e,t,r){return e-n[t-1][r-1]})):null},canMultiplyFromLeft:function(e){if(0===this.elements.length)return!1;var n=e.elements||e;return void 0===n[0][0]&&(n=t.Matrix.create(n).elements),this.elements[0].length===n.length},multiply:function(e){if(0===this.elements.length)return null;if(!e.elements)return this.map((function(t){return t*e}));var n=!!e.modulus;if(void 0===(c=e.elements||e)[0][0]&&(c=t.Matrix.create(c).elements),!this.canMultiplyFromLeft(c))return null;for(var r,i,s,a=this.elements.length,l=c[0].length,o=this.elements[0].length,h=[];a--;)for(r=l,h[a]=[];r--;){for(i=o,s=0;i--;)s+=this.elements[a][i]*c[i][r];h[a][r]=s}var c=t.Matrix.create(h);return n?c.col(1):c},minor:function(e,n,r,i){if(0===this.elements.length)return null;for(var s,a,l,o=[],h=r,c=this.elements.length,u=this.elements[0].length;h--;)for(o[s=r-h-1]=[],a=i;a--;)l=i-a-1,o[s][l]=this.elements[(e+s-1)%c][(n+l-1)%u];return t.Matrix.create(o)},transpose:function(){if(0===this.elements.length)return t.Matrix.create([]);for(var e,n=this.elements.length,r=[],i=this.elements[0].length;i--;)for(e=n,r[i]=[];e--;)r[i][e]=this.elements[e][i];return t.Matrix.create(r)},isSquare:function(){var e=0===this.elements.length?0:this.elements[0].length;return this.elements.length===e},max:function(){if(0===this.elements.length)return null;for(var e,t=0,n=this.elements.length,r=this.elements[0].length;n--;)for(e=r;e--;)Math.abs(this.elements[n][e])>Math.abs(t)&&(t=this.elements[n][e]);return t},indexOf:function(e){if(0===this.elements.length)return null;var t,n,r=this.elements.length,i=this.elements[0].length;for(t=0;t<r;t++)for(n=0;n<i;n++)if(this.elements[t][n]===e)return{i:t+1,j:n+1};return null},diagonal:function(){if(!this.isSquare)return null;for(var e=[],n=this.elements.length,r=0;r<n;r++)e.push(this.elements[r][r]);return t.Vector.create(e)},toRightTriangular:function(){if(0===this.elements.length)return t.Matrix.create([]);var e,n,r,i,s=this.dup(),a=this.elements.length,l=this.elements[0].length;for(n=0;n<a;n++){if(0===s.elements[n][n])for(r=n+1;r<a;r++)if(0!==s.elements[r][n]){for(e=[],i=0;i<l;i++)e.push(s.elements[n][i]+s.elements[r][i]);s.elements[n]=e;break}if(0!==s.elements[n][n])for(r=n+1;r<a;r++){var o=s.elements[r][n]/s.elements[n][n];for(e=[],i=0;i<l;i++)e.push(i<=n?0:s.elements[r][i]-s.elements[n][i]*o);s.elements[r]=e}}return s},determinant:function(){if(0===this.elements.length)return 1;if(!this.isSquare())return null;for(var e=this.toRightTriangular(),t=e.elements[0][0],n=e.elements.length,r=1;r<n;r++)t*=e.elements[r][r];return t},isSingular:function(){return this.isSquare()&&0===this.determinant()},trace:function(){if(0===this.elements.length)return 0;if(!this.isSquare())return null;for(var e=this.elements[0][0],t=this.elements.length,n=1;n<t;n++)e+=this.elements[n][n];return e},rank:function(){if(0===this.elements.length)return 0;for(var e,n=this.toRightTriangular(),r=0,i=this.elements.length,s=this.elements[0].length;i--;)for(e=s;e--;)if(Math.abs(n.elements[i][e])>t.precision){r++;break}return r},augment:function(e){if(0===this.elements.length)return this.dup();var n=e.elements||e;void 0===n[0][0]&&(n=t.Matrix.create(n).elements);var r,i=this.dup(),s=i.elements[0].length,a=i.elements.length,l=n[0].length;if(a!==n.length)return null;for(;a--;)for(r=l;r--;)i.elements[a][s+r]=n[a][r];return i},inverse:function(){if(0===this.elements.length)return null;if(!this.isSquare()||this.isSingular())return null;for(var e,n,r,i,s,a=this.elements.length,l=a,o=this.augment(t.Matrix.I(a)).toRightTriangular(),h=o.elements[0].length,c=[];l--;){for(r=[],c[l]=[],i=o.elements[l][l],n=0;n<h;n++)s=o.elements[l][n]/i,r.push(s),n>=a&&c[l].push(s);for(o.elements[l]=r,e=l;e--;){for(r=[],n=0;n<h;n++)r.push(o.elements[e][n]-o.elements[l][n]*o.elements[e][l]);o.elements[e]=r}}return t.Matrix.create(c)},round:function(){return this.map((function(e){return Math.round(e)}))},snapTo:function(e){return this.map((function(n){return Math.abs(n-e)<=t.precision?e:n}))},inspect:function(){var e=[],n=this.elements.length;if(0===n)return"[]";for(var r=0;r<n;r++)e.push(t.Vector.create(this.elements[r]).inspect());return e.join("\n")},setElements:function(e){var t,n,r=e.elements||e;if(r[0]&&void 0!==r[0][0]){for(t=r.length,this.elements=[];t--;)for(n=r[t].length,this.elements[t]=[];n--;)this.elements[t][n]=r[t][n];return this}var i=r.length;for(this.elements=[],t=0;t<i;t++)this.elements.push([r[t]]);return this}},t.Matrix.prototype.toUpperTriangular=t.Matrix.prototype.toRightTriangular,t.Matrix.prototype.det=t.Matrix.prototype.determinant,t.Matrix.prototype.tr=t.Matrix.prototype.trace,t.Matrix.prototype.rk=t.Matrix.prototype.rank,t.Matrix.prototype.inv=t.Matrix.prototype.inverse,t.Matrix.prototype.x=t.Matrix.prototype.multiply,t.Line=function(){},t.Line.prototype={eql:function(e){return this.isParallelTo(e)&&this.contains(e.anchor)},dup:function(){return t.Line.create(this.anchor,this.direction)},translate:function(e){var n=e.elements||e;return t.Line.create([this.anchor.elements[0]+n[0],this.anchor.elements[1]+n[1],this.anchor.elements[2]+(n[2]||0)],this.direction)},isParallelTo:function(e){if(e.normal||e.start&&e.end)return e.isParallelTo(this);var n=this.direction.angleFrom(e.direction);return Math.abs(n)<=t.precision||Math.abs(n-Math.PI)<=t.precision},distanceFrom:function(e){if(e.normal||e.start&&e.end)return e.distanceFrom(this);if(e.direction){if(this.isParallelTo(e))return this.distanceFrom(e.anchor);var t=this.direction.cross(e.direction).toUnitVector().elements,n=this.anchor.elements,r=e.anchor.elements;return Math.abs((n[0]-r[0])*t[0]+(n[1]-r[1])*t[1]+(n[2]-r[2])*t[2])}var i=e.elements||e,s=(n=this.anchor.elements,this.direction.elements),a=i[0]-n[0],l=i[1]-n[1],o=(i[2]||0)-n[2],h=Math.sqrt(a*a+l*l+o*o);if(0===h)return 0;var c=(a*s[0]+l*s[1]+o*s[2])/h,u=1-c*c;return Math.abs(h*Math.sqrt(u<0?0:u))},contains:function(e){if(e.start&&e.end)return this.contains(e.start)&&this.contains(e.end);var n=this.distanceFrom(e);return null!==n&&n<=t.precision},positionOf:function(e){if(!this.contains(e))return null;var t=e.elements||e,n=this.anchor.elements,r=this.direction.elements;return(t[0]-n[0])*r[0]+(t[1]-n[1])*r[1]+((t[2]||0)-n[2])*r[2]},liesIn:function(e){return e.contains(this)},intersects:function(e){return e.normal?e.intersects(this):!this.isParallelTo(e)&&this.distanceFrom(e)<=t.precision},intersectionWith:function(e){if(e.normal||e.start&&e.end)return e.intersectionWith(this);if(!this.intersects(e))return null;var n=this.anchor.elements,r=this.direction.elements,i=e.anchor.elements,s=e.direction.elements,a=r[0],l=r[1],o=r[2],h=s[0],c=s[1],u=s[2],m=n[0]-i[0],f=n[1]-i[1],d=n[2]-i[2],p=h*h+c*c+u*u,v=a*h+l*c+o*u,g=((-a*m-l*f-o*d)*p/(a*a+l*l+o*o)+v*(h*m+c*f+u*d))/(p-v*v);return t.Vector.create([n[0]+g*a,n[1]+g*l,n[2]+g*o])},pointClosestTo:function(e){if(e.start&&e.end)return null===(u=e.pointClosestTo(this))?null:this.pointClosestTo(u);if(e.direction){if(this.intersects(e))return this.intersectionWith(e);if(this.isParallelTo(e))return null;var n=this.direction.elements,r=e.direction.elements,i=n[0],s=n[1],a=n[2],l=r[0],o=r[1],h=r[2],c=[(v=a*l-i*h)*h-(g=i*o-s*l)*o,g*l-(x=s*h-a*o)*h,x*o-v*l];return(u=t.Plane.create(e.anchor,c)).intersectionWith(this)}var u=e.elements||e;if(this.contains(u))return t.Vector.create(u);var m=this.anchor.elements,f=(i=(n=this.direction.elements)[0],s=n[1],a=n[2],m[0]),d=m[1],p=m[2],v=i*(u[1]-d)-s*(u[0]-f),g=s*((u[2]||0)-p)-a*(u[1]-d),x=a*(u[0]-f)-i*((u[2]||0)-p),M=t.Vector.create([s*v-a*x,a*g-i*v,i*x-s*g]),V=this.distanceFrom(u)/M.modulus();return t.Vector.create([u[0]+M.elements[0]*V,u[1]+M.elements[1]*V,(u[2]||0)+M.elements[2]*V])},rotate:function(e,n){void 0===n.direction&&(n=t.Line.create(n.to3D(),t.Vector.k));var r=t.Matrix.Rotation(e,n.direction).elements,i=n.pointClosestTo(this.anchor).elements,s=this.anchor.elements,a=this.direction.elements,l=i[0],o=i[1],h=i[2],c=s[0]-l,u=s[1]-o,m=s[2]-h;return t.Line.create([l+r[0][0]*c+r[0][1]*u+r[0][2]*m,o+r[1][0]*c+r[1][1]*u+r[1][2]*m,h+r[2][0]*c+r[2][1]*u+r[2][2]*m],[r[0][0]*a[0]+r[0][1]*a[1]+r[0][2]*a[2],r[1][0]*a[0]+r[1][1]*a[1]+r[1][2]*a[2],r[2][0]*a[0]+r[2][1]*a[1]+r[2][2]*a[2]])},reverse:function(){return t.Line.create(this.anchor,this.direction.x(-1))},reflectionIn:function(e){if(e.normal){var n=this.anchor.elements,r=this.direction.elements,i=n[0],s=n[1],a=n[2],l=r[0],o=r[1],h=r[2],c=this.anchor.reflectionIn(e).elements,u=i+l,m=s+o,f=a+h,d=e.pointClosestTo([u,m,f]).elements,p=[d[0]+(d[0]-u)-c[0],d[1]+(d[1]-m)-c[1],d[2]+(d[2]-f)-c[2]];return t.Line.create(c,p)}if(e.direction)return this.rotate(Math.PI,e);var v=e.elements||e;return t.Line.create(this.anchor.reflectionIn([v[0],v[1],v[2]||0]),this.direction)},setVectors:function(e,n){if(e=t.Vector.create(e),n=t.Vector.create(n),2===e.elements.length&&e.elements.push(0),2===n.elements.length&&n.elements.push(0),e.elements.length>3||n.elements.length>3)return null;var r=n.modulus();return 0===r?null:(this.anchor=e,this.direction=t.Vector.create([n.elements[0]/r,n.elements[1]/r,n.elements[2]/r]),this)}},t.Line.create=function(e,n){return(new t.Line).setVectors(e,n)},t.Line.create,t.Line.X=t.Line.create(t.Vector.Zero(3),t.Vector.i),t.Line.Y=t.Line.create(t.Vector.Zero(3),t.Vector.j),t.Line.Z=t.Line.create(t.Vector.Zero(3),t.Vector.k),t.Line.Segment=function(){},t.Line.Segment.prototype={eql:function(e){return this.start.eql(e.start)&&this.end.eql(e.end)||this.start.eql(e.end)&&this.end.eql(e.start)},dup:function(){return t.Line.Segment.create(this.start,this.end)},length:function(){var e=this.start.elements,t=this.end.elements,n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(n*n+r*r+i*i)},toVector:function(){var e=this.start.elements,n=this.end.elements;return t.Vector.create([n[0]-e[0],n[1]-e[1],n[2]-e[2]])},midpoint:function(){var e=this.start.elements,n=this.end.elements;return t.Vector.create([(n[0]+e[0])/2,(n[1]+e[1])/2,(n[2]+e[2])/2])},bisectingPlane:function(){return t.Plane.create(this.midpoint(),this.toVector())},translate:function(e){var n=e.elements||e,r=this.start.elements,i=this.end.elements;return t.Line.Segment.create([r[0]+n[0],r[1]+n[1],r[2]+(n[2]||0)],[i[0]+n[0],i[1]+n[1],i[2]+(n[2]||0)])},isParallelTo:function(e){return this.line.isParallelTo(e)},distanceFrom:function(e){var t=this.pointClosestTo(e);return null===t?null:t.distanceFrom(e)},contains:function(e){if(e.start&&e.end)return this.contains(e.start)&&this.contains(e.end);var n=(e.elements||e).slice();if(2===n.length&&n.push(0),this.start.eql(n))return!0;var r=this.start.elements,i=t.Vector.create([r[0]-n[0],r[1]-n[1],r[2]-(n[2]||0)]),s=this.toVector();return i.isAntiparallelTo(s)&&i.modulus()<=s.modulus()},intersects:function(e){return null!==this.intersectionWith(e)},intersectionWith:function(e){if(!this.line.intersects(e))return null;var t=this.line.intersectionWith(e);return this.contains(t)?t:null},pointClosestTo:function(e){if(e.normal){var t=this.line.intersectionWith(e);return null===t?null:this.pointClosestTo(t)}var n=this.line.pointClosestTo(e);return null===n?null:this.contains(n)?n:(this.line.positionOf(n)<0?this.start:this.end).dup()},setPoints:function(e,n){return e=t.Vector.create(e).to3D(),n=t.Vector.create(n).to3D(),null===e||null===n?null:(this.line=t.Line.create(e,n.subtract(e)),this.start=e,this.end=n,this)}},t.Line.Segment.create=function(e,n){return(new t.Line.Segment).setPoints(e,n)},t.Plane=function(){},t.Plane.prototype={eql:function(e){return this.contains(e.anchor)&&this.isParallelTo(e)},dup:function(){return t.Plane.create(this.anchor,this.normal)},translate:function(e){var n=e.elements||e;return t.Plane.create([this.anchor.elements[0]+n[0],this.anchor.elements[1]+n[1],this.anchor.elements[2]+(n[2]||0)],this.normal)},isParallelTo:function(e){var n;return e.normal?(n=this.normal.angleFrom(e.normal),Math.abs(n)<=t.precision||Math.abs(Math.PI-n)<=t.precision):e.direction?this.normal.isPerpendicularTo(e.direction):null},isPerpendicularTo:function(e){var n=this.normal.angleFrom(e.normal);return Math.abs(Math.PI/2-n)<=t.precision},distanceFrom:function(e){if(this.intersects(e)||this.contains(e))return 0;if(e.anchor){var t=this.anchor.elements,n=e.anchor.elements,r=this.normal.elements;return Math.abs((t[0]-n[0])*r[0]+(t[1]-n[1])*r[1]+(t[2]-n[2])*r[2])}var i=e.elements||e;return t=this.anchor.elements,r=this.normal.elements,Math.abs((t[0]-i[0])*r[0]+(t[1]-i[1])*r[1]+(t[2]-(i[2]||0))*r[2])},contains:function(e){if(e.normal)return null;if(e.direction)return this.contains(e.anchor)&&this.contains(e.anchor.add(e.direction));var n=e.elements||e,r=this.anchor.elements,i=this.normal.elements;return Math.abs(i[0]*(r[0]-n[0])+i[1]*(r[1]-n[1])+i[2]*(r[2]-(n[2]||0)))<=t.precision},intersects:function(e){return void 0===e.direction&&void 0===e.normal?null:!this.isParallelTo(e)},intersectionWith:function(e){if(!this.intersects(e))return null;if(e.direction){var n=e.anchor.elements,r=e.direction.elements,i=this.anchor.elements,s=((l=this.normal.elements)[0]*(i[0]-n[0])+l[1]*(i[1]-n[1])+l[2]*(i[2]-n[2]))/(l[0]*r[0]+l[1]*r[1]+l[2]*r[2]);return t.Vector.create([n[0]+r[0]*s,n[1]+r[1]*s,n[2]+r[2]*s])}if(e.normal){for(var a=this.normal.cross(e.normal).toUnitVector(),l=this.normal.elements,o=(n=this.anchor.elements,e.normal.elements),h=e.anchor.elements,c=t.Matrix.Zero(2,2),u=0;c.isSingular();)u++,c=t.Matrix.create([[l[u%3],l[(u+1)%3]],[o[u%3],o[(u+1)%3]]]);for(var m=c.inverse().elements,f=l[0]*n[0]+l[1]*n[1]+l[2]*n[2],d=o[0]*h[0]+o[1]*h[1]+o[2]*h[2],p=[m[0][0]*f+m[0][1]*d,m[1][0]*f+m[1][1]*d],v=[],g=1;g<=3;g++)v.push(u===g?0:p[(g+(5-u)%3)%3]);return t.Line.create(v,a)}},pointClosestTo:function(e){var n=e.elements||e,r=this.anchor.elements,i=this.normal.elements,s=(r[0]-n[0])*i[0]+(r[1]-n[1])*i[1]+(r[2]-(n[2]||0))*i[2];return t.Vector.create([n[0]+i[0]*s,n[1]+i[1]*s,(n[2]||0)+i[2]*s])},rotate:function(e,n){var r=e.determinant?e.elements:t.Matrix.Rotation(e,n.direction).elements,i=n.pointClosestTo(this.anchor).elements,s=this.anchor.elements,a=this.normal.elements,l=i[0],o=i[1],h=i[2],c=s[0]-l,u=s[1]-o,m=s[2]-h;return t.Plane.create([l+r[0][0]*c+r[0][1]*u+r[0][2]*m,o+r[1][0]*c+r[1][1]*u+r[1][2]*m,h+r[2][0]*c+r[2][1]*u+r[2][2]*m],[r[0][0]*a[0]+r[0][1]*a[1]+r[0][2]*a[2],r[1][0]*a[0]+r[1][1]*a[1]+r[1][2]*a[2],r[2][0]*a[0]+r[2][1]*a[1]+r[2][2]*a[2]])},reflectionIn:function(e){if(e.normal){var n=this.anchor.elements,r=this.normal.elements,i=n[0],s=n[1],a=n[2],l=r[0],o=r[1],h=r[2],c=this.anchor.reflectionIn(e).elements,u=i+l,m=s+o,f=a+h,d=e.pointClosestTo([u,m,f]).elements,p=[d[0]+(d[0]-u)-c[0],d[1]+(d[1]-m)-c[1],d[2]+(d[2]-f)-c[2]];return t.Plane.create(c,p)}if(e.direction)return this.rotate(Math.PI,e);var v=e.elements||e;return t.Plane.create(this.anchor.reflectionIn([v[0],v[1],v[2]||0]),this.normal)},setVectors:function(e,n,r){if(null===(e=(e=t.Vector.create(e)).to3D()))return null;if(null===(n=(n=t.Vector.create(n)).to3D()))return null;if(void 0===r)r=null;else if(null===(r=(r=t.Vector.create(r)).to3D()))return null;var i,s,a=e.elements[0],l=e.elements[1],o=e.elements[2],h=n.elements[0],c=n.elements[1],u=n.elements[2];if(null!==r){var m=r.elements[0],f=r.elements[1],d=r.elements[2];if(0===(s=(i=t.Vector.create([(c-l)*(d-o)-(u-o)*(f-l),(u-o)*(m-a)-(h-a)*(d-o),(h-a)*(f-l)-(c-l)*(m-a)])).modulus()))return null;i=t.Vector.create([i.elements[0]/s,i.elements[1]/s,i.elements[2]/s])}else{if(0===(s=Math.sqrt(h*h+c*c+u*u)))return null;i=t.Vector.create([n.elements[0]/s,n.elements[1]/s,n.elements[2]/s])}return this.anchor=e,this.normal=i,this}},t.Plane.create=function(e,n,r){return(new t.Plane).setVectors(e,n,r)},t.Plane.create,t.Plane.XY=t.Plane.create(t.Vector.Zero(3),t.Vector.k),t.Plane.YZ=t.Plane.create(t.Vector.Zero(3),t.Vector.i),t.Plane.ZX=t.Plane.create(t.Vector.Zero(3),t.Vector.j),t.Plane.YX=t.Plane.XY,t.Plane.ZY=t.Plane.YZ,t.Plane.XZ=t.Plane.ZX,t.Plane.fromPoints=function(e){var n,r,i,s,a,l,o,h,c,u,m=e.length,f=[],d=t.Vector.Zero(3);for(n=0;n<m;n++){if(null===(r=t.Vector.create(e[n]).to3D()))return null;if(f.push(r),(i=f.length)>2){if(a=f[i-1].elements,l=f[i-2].elements,o=f[i-3].elements,s=t.Vector.create([(a[1]-l[1])*(o[2]-l[2])-(a[2]-l[2])*(o[1]-l[1]),(a[2]-l[2])*(o[0]-l[0])-(a[0]-l[0])*(o[2]-l[2]),(a[0]-l[0])*(o[1]-l[1])-(a[1]-l[1])*(o[0]-l[0])]).toUnitVector(),i>3&&null!==(c=s.angleFrom(u))&&!(Math.abs(c)<=t.precision||Math.abs(c-Math.PI)<=t.precision))return null;d=d.add(s),u=s}}return a=f[1].elements,l=f[0].elements,o=f[i-1].elements,h=f[i-2].elements,d=d.add(t.Vector.create([(a[1]-l[1])*(o[2]-l[2])-(a[2]-l[2])*(o[1]-l[1]),(a[2]-l[2])*(o[0]-l[0])-(a[0]-l[0])*(o[2]-l[2]),(a[0]-l[0])*(o[1]-l[1])-(a[1]-l[1])*(o[0]-l[0])]).toUnitVector()).add(t.Vector.create([(l[1]-o[1])*(h[2]-o[2])-(l[2]-o[2])*(h[1]-o[1]),(l[2]-o[2])*(h[0]-o[0])-(l[0]-o[0])*(h[2]-o[2]),(l[0]-o[0])*(h[1]-o[1])-(l[1]-o[1])*(h[0]-o[0])]).toUnitVector()),t.Plane.create(f[0],d)},t.Polygon=function(){},t.Polygon.prototype={v:function(e){return this.vertices.at(e-1).data},nodeFor:function(e){return this.vertices.withData(e)},dup:function(){return t.Polygon.create(this.vertices,this.plane)},translate:function(e){var t=e.elements||e;return this.vertices.each((function(e){var n=e.data.elements;e.data.setElements([n[0]+t[0],n[1]+t[1],n[2]+(t[2]||0)])})),this.plane=this.plane.translate(e),this.updateTrianglePlanes((function(t){return t.translate(e)})),this},rotate:function(e,n){var r=t.Matrix.Rotation(e,n.direction);return this.vertices.each((function(e){e.data.setElements(e.data.rotate(r,n).elements)})),this.plane=this.plane.rotate(r,n),this.updateTrianglePlanes((function(e){return e.rotate(r,n)})),this},scale:function(e,n){var r=n.elements||n;this.vertices.each((function(t){var n=t.data.elements;t.data.setElements([r[0]+e*(n[0]-r[0]),r[1]+e*(n[1]-r[1]),(r[2]||0)+e*(n[2]-(r[2]||0))])}));var i=this.vertices.first.data;return this.plane.anchor.setElements(i),this.updateTrianglePlanes((function(e){return t.Plane.create(i,e.normal)})),this},updateTrianglePlanes:function(e){var t;if(null!==this.cached.triangles)for(t=this.cached.triangles.length;t--;)this.cached.triangles[t].plane=e(this.cached.triangles[t].plane);if(null!==this.cached.surfaceIntegralElements)for(t=this.cached.surfaceIntegralElements.length;t--;)this.cached.surfaceIntegralElements[t].plane=e(this.cached.surfaceIntegralElements[t].plane)},isTriangle:function(){return 3===this.vertices.length},trianglesForSurfaceIntegral:function(){if(null!==this.cached.surfaceIntegralElements)return this.cached.surfaceIntegralElements;var e=[],n=this.vertices.first.data,r=this.plane;return this.vertices.each((function(i,s){if(!(s<2)){var a=[n,i.prev.data,i.data];e.push(t.Polygon.create(a,t.Plane.fromPoints(a)||r))}})),this.setCache("surfaceIntegralElements",e)},area:function(){if(this.isTriangle()){var e=this.vertices.first,n=e.next,r=n.next;return e=e.data.elements,n=n.data.elements,r=r.data.elements,.5*t.Vector.create([(e[1]-n[1])*(r[2]-n[2])-(e[2]-n[2])*(r[1]-n[1]),(e[2]-n[2])*(r[0]-n[0])-(e[0]-n[0])*(r[2]-n[2]),(e[0]-n[0])*(r[1]-n[1])-(e[1]-n[1])*(r[0]-n[0])]).modulus()}for(var i=this.trianglesForSurfaceIntegral(),s=0,a=i.length;a--;)s+=i[a].area()*i[a].plane.normal.dot(this.plane.normal);return s},centroid:function(){if(this.isTriangle()){var e=this.v(1).elements,n=this.v(2).elements,r=this.v(3).elements;return t.Vector.create([(e[0]+n[0]+r[0])/3,(e[1]+n[1]+r[1])/3,(e[2]+n[2]+r[2])/3])}for(var i,s=0,a=t.Vector.Zero(3),l=this.trianglesForSurfaceIntegral(),o=l.length;o--;)s+=e=l[o].area()*l[o].plane.normal.dot(this.plane.normal),i=a.elements,r=l[o].centroid().elements,a.setElements([i[0]+r[0]*e,i[1]+r[1]*e,i[2]+r[2]*e]);return a.x(1/s)},projectionOn:function(e){var n=[];return this.vertices.each((function(t){n.push(e.pointClosestTo(t.data))})),t.Polygon.create(n)},removeVertex:function(e){if(!this.isTriangle()){var n=this.nodeFor(e);if(null===n)return null;this.clearCache();var r=n.prev,i=n.next,s=r.data.isConvex(this),a=i.data.isConvex(this);return n.data.isConvex(this)?this.convexVertices.remove(this.convexVertices.withData(n.data)):this.reflexVertices.remove(this.reflexVertices.withData(n.data)),this.vertices.remove(n),s!==r.data.isConvex(this)&&(s?(this.convexVertices.remove(this.convexVertices.withData(r.data)),this.reflexVertices.append(new t.LinkedList.Node(r.data))):(this.reflexVertices.remove(this.reflexVertices.withData(r.data)),this.convexVertices.append(new t.LinkedList.Node(r.data)))),a!==i.data.isConvex(this)&&(a?(this.convexVertices.remove(this.convexVertices.withData(i.data)),this.reflexVertices.append(new t.LinkedList.Node(i.data))):(this.reflexVertices.remove(this.reflexVertices.withData(i.data)),this.convexVertices.append(new t.LinkedList.Node(i.data)))),this}},contains:function(e){return this.containsByWindingNumber(e)},containsByWindingNumber:function(e){var n=e.elements||e;if(!this.plane.contains(n))return!1;if(this.hasEdgeContaining(n))return!1;var r,i,s,a,l,o=0,h=0,c=this;return this.vertices.each((function(e){r=e.data.elements,i=e.next.data.elements,s=t.Vector.create([r[0]-n[0],r[1]-n[1],r[2]-(n[2]||0)]),a=t.Vector.create([i[0]-n[0],i[1]-n[1],i[2]-(n[2]||0)]),null!==(l=s.angleFrom(a))&&0!==l&&((o+=(s.cross(a).isParallelTo(c.plane.normal)?1:-1)*l)>=2*Math.PI-t.precision&&(h++,o-=2*Math.PI),o<=-2*Math.PI+t.precision&&(h--,o+=2*Math.PI))})),0!==h},hasEdgeContaining:function(e){var n=e.elements||e,r=!1;return this.vertices.each((function(e){t.Line.Segment.create(e.data,e.next.data).contains(n)&&(r=!0)})),r},toTriangles:function(){return null!==this.cached.triangles?this.cached.triangles:this.setCache("triangles",this.triangulateByEarClipping())},triangulateByEarClipping:function(){for(var e,n,r,i,s=this.dup(),a=[];!s.isTriangle();){for(e=!1;!e;)e=!0,n=s.convexVertices.randomNode(),r=s.vertices.withData(n.data),i=t.Polygon.create([r.data,r.next.data,r.prev.data],this.plane),s.reflexVertices.each((function(t){t.data!==r.prev.data&&t.data!==r.next.data&&(i.contains(t.data)||i.hasEdgeContaining(t.data))&&(e=!1)}));a.push(i),s.removeVertex(r.data)}return a.push(t.Polygon.create(s.vertices,this.plane)),a},setVertices:function(e,n){var r=e.toArray?e.toArray():e;if(this.plane=n&&n.normal?n.dup():t.Plane.fromPoints(r),null===this.plane)return null;this.vertices=new t.LinkedList.Circular;for(var i,s=r.length;s--;)i=r[s].isConvex?r[s]:new t.Polygon.Vertex(r[s]),this.vertices.prepend(new t.LinkedList.Node(i));return this.clearCache(),this.populateVertexTypeLists(),this},populateVertexTypeLists:function(){this.convexVertices=new t.LinkedList.Circular,this.reflexVertices=new t.LinkedList.Circular;var e=this;this.vertices.each((function(n){e[n.data.type(e)+"Vertices"].append(new t.LinkedList.Node(n.data))}))},copyVertices:function(){this.clearCache(),this.vertices.each((function(e){e.data=new t.Polygon.Vertex(e.data)})),this.populateVertexTypeLists()},clearCache:function(){this.cached={triangles:null,surfaceIntegralElements:null}},setCache:function(e,t){return this.cached[e]=t,t},inspect:function(){var e=[];return this.vertices.each((function(t){e.push(t.data.inspect())})),e.join(" -> ")}},t.Polygon.create=function(e,n){return(new t.Polygon).setVertices(e,n)},t.Polygon.Vertex=function(e){if(this.setElements(e),2===this.elements.length&&this.elements.push(0),3!==this.elements.length)return null},t.Polygon.Vertex.prototype=new t.Vector,t.Polygon.Vertex.prototype.isConvex=function(e){var n=e.nodeFor(this);if(null===n)return null;var r=n.prev.data,i=n.next.data.subtract(this),s=r.subtract(this),a=i.angleFrom(s);return a<=t.precision||!(Math.abs(a-Math.PI)<=t.precision)&&i.cross(s).dot(e.plane.normal)>0},t.Polygon.Vertex.prototype.isReflex=function(e){var t=this.isConvex(e);return null===t?null:!t},t.Polygon.Vertex.prototype.type=function(e){var t=this.isConvex(e);return null===t?null:t?"convex":"reflex"},t.Polygon.Vertex.convert=function(e){for(var n=e.toArray?e.toArray():e,r=[],i=n.length,s=0;s<i;s++)r.push(new t.Polygon.Vertex(n[s]));return r},t.LinkedList=function(){},t.LinkedList.prototype={length:0,first:null,last:null,forEach:function(e,t){for(var n=this.first,r=this.length,i=0;i<r;i++)e.call(t,n,i),n=n.next},at:function(e){if(!(e>=0&&e<this.length))return null;for(var t=this.first;e--;)t=t.next;return t},randomNode:function(){var e=Math.floor(Math.random()*this.length);return this.at(e)},toArray:function(){for(var e=[],t=this.first,n=this.length;n--;)e.push(t.data||t),t=t.next;return e}},t.LinkedList.prototype.each=t.LinkedList.prototype.forEach,t.LinkedList.Node=function(e){this.prev=null,this.next=null,this.data=e},t.LinkedList.Circular=function(){},t.LinkedList.Circular.Methods={append:function(e){null===this.first?(e.prev=e,e.next=e,this.first=e,this.last=e):(e.prev=this.last,e.next=this.first,this.first.prev=e,this.last.next=e,this.last=e),this.length++},prepend:function(e){null!==this.first?(e.prev=this.last,e.next=this.first,this.first.prev=e,this.last.next=e,this.first=e,this.length++):this.append(e)},insertAfter:function(e,t){t.prev=e,t.next=e.next,e.next.prev=t,e.next=t,t.prev===this.last&&(this.last=t),this.length++},insertBefore:function(e,t){t.prev=e.prev,t.next=e,e.prev.next=t,e.prev=t,t.next===this.first&&(this.first=t),this.length++},remove:function(e){this.length>1?(e.prev.next=e.next,e.next.prev=e.prev,e===this.first&&(this.first=e.next),e===this.last&&(this.last=e.prev)):(this.first=null,this.last=null),e.prev=null,e.next=null,this.length--},withData:function(e){for(var t=this.first,n=this.last,r=Math.ceil(this.length/2);r--;){if(t.data===e)return t;if(n.data===e)return n;t=t.next,n=n.prev}return null}},t.LinkedList.Circular.prototype=new t.LinkedList,t.LinkedList.Circular.Methods)t.LinkedList.Circular.prototype[n]=t.LinkedList.Circular.Methods[n];t.LinkedList.Circular.fromArray=function(e,n){for(var r=new t.LinkedList.Circular,i=e.length;i--;)r.prepend(n?new t.LinkedList.Node(e[i]):e[i]);return r},function(){var n="object"===(void 0===e?"undefined":i(e))?e:this;n.Line=t.Line,n.Matrix=t.Matrix,n.Plane=t.Plane,n.Polygon=t.Polygon,n.Vector=t.Vector,"undefined"!=typeof WScript&&(this.Sylvester=t)}()}()),e}s();var a={};function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}if("object"===(void 0===a?"undefined":l(a))){var o=s(),h=o.Vector,c=o.Matrix,u=o.Vector.create,m=o.Matrix.create;o.makeLookAt=function(e,t,n,r,i,s,a,l,o){var h=u([e,t,n]),c=u([r,i,s]),f=u([a,l,o]),d=h.subtract(c).toUnitVector(),p=f.cross(d).toUnitVector(),v=d.cross(p).toUnitVector(),g=m([[p.e(1),p.e(2),p.e(3),0],[v.e(1),v.e(2),v.e(3),0],[d.e(1),d.e(2),d.e(3),0],[0,0,0,1]]),x=m([[1,0,0,-e],[0,1,0,-t],[0,0,1,-n],[0,0,0,1]]);return g.x(x)},o.makePerspective=function(e,t,n,r){var i=n*Math.tan(e*Math.PI/360),s=-i;return f(s*t,i*t,s,i,n,r)},o.makeFrustum=f,o.makeOrtho=function(e,t,n,r,i,s){return m([[2/(t-e),0,0,-(t+e)/(t-e)],[0,2/(r-n),0,-(r+n)/(r-n)],[0,0,-2/(s-i),-(s+i)/(s-i)],[0,0,0,1]])}}function f(e,t,n,r,i,s){return m([[2*i/(t-e),0,(t+e)/(t-e),0],[0,2*i/(r-n),(r+n)/(r-n),0],[0,0,-(s+i)/(s-i),-2*s*i/(s-i)],[0,0,-1,0]])}c.Translation=function(e){var t;switch(e.elements.length){case 2:return(t=c.I(3)).elements[2][0]=e.elements[0],t.elements[2][1]=e.elements[1],t;case 3:return(t=c.I(4)).elements[0][3]=e.elements[0],t.elements[1][3]=e.elements[1],t.elements[2][3]=e.elements[2],t}throw new Error("Invalid length for Translation","sylvester-utils.js",18)},c.prototype.flatten=function(){var e=[];if(0!==this.elements.length)for(var t=this.elements[0].length,n=0;n<t;n++)for(var r=this.elements.length,i=0;i<r;i++)e.push(this.elements[i][n]);return e},c.prototype.ensure4x4=function(){var e,t,n=this.elements,r=n.length,i=n[0].length;if(4===r&&4===i)return this;if(r>4||i>4)return null;for(e=0;e<r;++e){var s=n[e];for(t=s.length;t<4;++t)s.push(e===t?1:0)}switch(r){case 0:n.push([1,0,0,0]);case 1:n.push([0,1,0,0]);case 2:n.push([0,0,1,0]);case 3:n.push([0,0,0,1])}return this},c.prototype.make3x3=function(){return 4===this.elements.length&&4===this.elements[0].length?c.create([[this.elements[0][0],this.elements[0][1],this.elements[0][2]],[this.elements[1][0],this.elements[1][1],this.elements[1][2]],[this.elements[2][0],this.elements[2][1],this.elements[2][2]]]):null},h.prototype.flatten=function(){return this.elements};var d=s().Vector.create,p=document.getElementById("screen"),v=p.getContext("webgl")||p.getContext("experimental-webgl"),g=!0;function x(e,t){if(v.shaderSource(e,t),v.compileShader(e),!v.getShaderParameter(e,v.COMPILE_STATUS))throw Error("unimplemented");return e}window.addEventListener("resize",(function(){g=!0})),v.clearColor(0,0,0,1),v.clearDepth(1),v.enable(v.DEPTH_TEST),v.depthFunc(v.LEQUAL);var M=x(v.createShader(v.VERTEX_SHADER),"\n    attribute vec3 aVertexPosition;\n    attribute vec4 aVertexColor;\n\n    uniform mat4 uMVMatrix;\n    uniform mat4 uPMatrix;\n\n    varying lowp vec4 vColor;\n\n    void main(void) {\n      gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n      vColor = aVertexColor;\n    }\n  "),V=x(v.createShader(v.FRAGMENT_SHADER),"\n    varying lowp vec4 vColor;\n\n    void main(void) {\n      gl_FragColor = vColor;\n    }\n  "),y=v.createProgram();if(v.attachShader(y,M),v.attachShader(y,V),v.linkProgram(y),!v.getProgramParameter(y,v.LINK_STATUS))throw Error("unimplemented");function P(e){var t=v.getAttribLocation(y,e);return v.enableVertexAttribArray(t),t}v.useProgram(y);var L=P("aVertexPosition"),T=P("aVertexColor");function b(e){var t=v.createBuffer();return v.bindBuffer(v.ARRAY_BUFFER,t),v.bufferData(v.ARRAY_BUFFER,new Float32Array(e),v.STATIC_DRAW),t}var C=b([1,1,0,-1,1,0,1,-1,0,-1,-1,0]),w=b([1,1,1,1,1,0,0,1,0,1,0,1,0,0,1,1]);setInterval((function(){var e=s().Matrix.Translation(d([0,0,-6])).ensure4x4(),t=v.getUniformLocation(y,"uMVMatrix");v.uniformMatrix4fv(t,!1,new Float32Array(e.flatten()));var n=s().makePerspective(45,1,.1,100),r=v.getUniformLocation(y,"uPMatrix");v.uniformMatrix4fv(r,!1,new Float32Array(n.flatten())),v.bindBuffer(v.ARRAY_BUFFER,C),v.vertexAttribPointer(L,3,v.FLOAT,!1,0,0),v.bindBuffer(v.ARRAY_BUFFER,w),v.vertexAttribPointer(T,4,v.FLOAT,!1,0,0),v.clear(v.COLOR_BUFFER_BIT|v.DEPTH_BUFFER_BIT),v.drawArrays(v.TRIANGLE_STRIP,0,4),g&&(v.canvas.width!==v.canvas.clientWidth&&(v.canvas.width=v.canvas.clientWidth),v.canvas.height!==v.canvas.clientHeight&&(v.canvas.height=v.canvas.clientHeight),v.viewport(0,0,v.canvas.width,v.canvas.height))}),15)}();
//# sourceMappingURL=index.1412087a.js.map
